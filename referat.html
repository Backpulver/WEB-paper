<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Стартиране на Lamp приложение посредством Kubernetes</title>
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <script src="javascript/script.js"></script>
</head>

<body>
    <nav>
        <div>
            <img src="./images/lampK8s.png" alt="LAMP_K8s_logo">
        </div>
        <ul>
            <li><a href="#section1">Въведение</a></li>
            <li><a href="#section2">sample text</a></li>
            <li><a href="#asd">sample text</a></li>
            <li><a href="#asdf">sample text</a></li>
            <li><a href="#asdfgg">sample text</a></li>
            <li><a href="#img">sample text</a></li>
            <li><a href="#sources">sample text</a></li>
        </ul>
    </nav>

    <main>
        <header>
            <h1>Стартиране на LAMP приложение посредством Kubernetes</h1>
        </header>

        <section id="section1">
            <h1>Въведение</h1>
            <p>LAMP стекът и Kubernetes са основни технологии в света на уеб приложенията и облачните услуги.</p>
            <h3>LAMP</h3>
            <p>
                LAMP е съкращение на съвкупност от софтуер с отворен код, който обикновено се инсталира заедно, за да
                позволи на сървър да хоства уебсайтове и уеб приложения.
            </p>
            <p>Абревиатурата на този запис идва от:</p>
            <p>
                Linux - операционна система, на нея се градят останалите компоненти от стека. Тя е известна със своята
                стабилност, сигурност и гъвкавост.
            </p>
            <p>
                Apache – това е компонентът на уеб сървъра, който обработва HTTP заявки и обслужва уеб съдържание.
            </p>    
            <p>
                MySQL - системата за управление на релационни бази данни, използвана за съхранение и управление на
                данните на сайта.
            </p>
            <p>
                PHP - езикът за програмиране, използван за създаване на динамично съдържание на уеб страниците. PHP е
                популярен заради лесната си употреба, широката подкрепа на общността и силната интеграция с бази данни.
            </p>
            <h3>Kubernetes</h3>
            <p>
                Kubernetes, известен също като K8s, е платформа тип „оркестратор“ с отворен код, предназначена за
                управление на контейнеризирани приложения. Тя автоматизира много аспекти от внедряването, управлението и
                скалирането на приложенията, като улеснява работата със сложността на съвременните софтуерни изисквания.
                Kubernetes организира контейнерите в логически единици за ефективно управление, като предлага функции
                като автоматизирано пускане и възстановяване, балансиране на товара и самолечение - което автоматично
                заменя или променя повредените контейнери. Тази платформа е силно разширима, което позволява на
                потребителите да я използват както в локални, така и в облачни среди.
            </p>
            <p>
                LAMP стекът и Kubernetes позволяват на разработчиците да създават, внедряват и управляват приложения
                по-ефективно в съвременните динамични и разпределени компютърни среди.
            </p>
        </section>

        <section id="section2">
            <h1>Какво е контейнер?</h1>
            <p>Контейнерът е олекотен, независим и изпълним софтуерен пакет, който включва всичко необходимо за
                стартиране на дадено приложение: код, среда за изпълнение, библиотеки и настройки. Контейнерите
                гарантират, че софтуерът работи консистентно и надеждно в различни среди независимо от машината, която
                ги хоства. По същество контейнерите капсулират дадено приложение и неговите зависимости във вид, който е
                лесен за внедряване и управление.
            </p>
            <p>
                Контейнеризацията е възможна чрез изолирането на приложението от хост системата с помощта на среди за
                изпълнение на контейнери, като например Docker Engine. Тази изолация се постига чрез използването на
                функции на Linux ядрото, които осигуряват ограничаване на ресурсите и изолация, без употребата на
                hypervisor. В резултат на това контейнерите споделят ядрото на хост системата, но поддържат отделна
                среда за изпълнение, като по този начин стават по-леки и ефективни от виртуалните машини.
            </p>
            <img src="./images/VMvsDocker.png" alt="Virtual machine and Docker comparison">
            <h2>Docker image</h2>
            <p>
                Docker снимката е "read-only" шаблон за четене, който се използва за създаването на контейнер. Всяка снимка
                се изгражда от поредица от слоеве, които се подреждат един върху друг. Тези слоеве представляват
                различни инструкции описани в Dockerfile, които добавят, премахват или променят файлове, и всеки слой се
                съхранява само веднъж на хоста, което намалява използваното дисково пространството и ускорява процеса на
                внедряване. Този дизайн позволява снимките да бъдат неизменими, което означава, че след като веднъж е
                създаден, те не се променят. В случай, че настъпят промени по един Dockerfile те ще доведат до
                създаването на нова Docker снимка.
            </p>
            <p>    
                Docker снимките са от основно значение за осигуряване на постоянна работа на софтуера, независимо от
                мястото на внедряване. Те опростяват процеса на пакетиране и изпращане на приложения, като създават
                стандартизирана софтуерна единица.
            </p>
            <img src="./images/docker.png" alt="Docker image">
        </section>

        <section id="section3">
            <h1>Стартиране на локален Kubernetes клъстър – Minikube</h1>

        </section>
        <!-- 
            <h1>Стартиране на локален Kubernetes клъстър – Minikube</h1>
            <p>Minikube е инструмент за работа с Kubernetes, който позволява стартирането на локална дистрибуция на
                клъстър с по-малко функционалности. По подразбиране Minikube създава single-node клъстър, който ще
                използваме за деплойването на нашето LAMP приложение. </p>
            <p>Инсталация на Minikube под Linux:
                1. Отворете празен терминал и подсигурете, че имате администраторски достъп до системата и инсталиран
                Docker.
                2. Изпълнете командите
                curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
                sudo install minikube-linux-amd64 /usr/local/bin/minikube && rm minikube-linux-amd64

                Ако инсталацията е минала успешно можем да стартираме клъстъра с командата:
                minikube start
            </p>
        </section>
        <section id="section4">
            <h1>Kubernetes архитектура</h1>
            <p>Kubernetes е динамична и сложна система за оркестриране на контейнери, която поддържа високо ниво на
                автоматизация при управлението на приложения, основно базирани на микросервизна архитектура. По-долу ще
                разгледаме подробно важните аспекти и детайли на Kubernetes архитектурата.
                Основните компоненти в Kubernetes:
                Node
                Node е машина - физическа или виртуална, върху която Kubernetes стартира контейнери. Всеки node се
                управлява от основните компоненти на Kubernetes и хоства подове.

                Pod (Под):
                Pod е базовата единица на Kubernetes. Той представлява група от един или повече контейнери, които
                споделят мрежови ресурси и файлови системи. Всеки Под се изпълнява върху Node.

                Cluster (Клъстър):
                Cluster е колекция от Nodes, които се управляват заедно. Kubernetes автоматизира разпределението и
                оркестрацията на приложенията върху тези nodes.

                Deployment:
                Deployment контролира състоянието на подовете, като гарантира, че определен брой копия от пода са
                стартирани и работят по всяко време.

                Service:
                Service дефинира логически набор от подове и политика, по която се достъпват, често използван за
                осигуряване на непрекъснатост на услугите към подове, които могат да бъдат заменяни.

                ConfigMap:
                ConfigMap позволява съхранението на конфигурационни данни като ключ-стойност, които могат да бъдат
                използвани от приложенията в подовете.

                Secrets:
                Secrets се използват за съхранение на чувствителна информация, като пароли и токени, по сигурен начин.

                API Server:
                В сърцето на Kubernetes е API Server, който действа като фронт-енд за Kubernetes контролния план. Той
                обработва REST заявки, обновява обекти в базата данни (etcd) и оркестрира останалите компоненти на
                системата.

                Etcd:
                Etcd е ключ-стойност база данни, използвана от Kubernetes за съхранение на всички данни за конфигурация
                и състоянието на системата. Тя е основен компонент за осигуряване на надеждност и синхронизация на
                клъстера.

                Controller Manager:
                Controller Manager наблюдава състоянието на кластера чрез API Server и прави промени, за да осигури, че
                текущото състояние отговаря на това желано от потребителя.

                Scheduler:
                Scheduler е отговорен за намиране на подходящ Node, върху който да стартира неразположени подове,
                базирайки се на наличните ресурси и изискванията на пода.

                Kubelet:
                Всеки Node в клъстъра има инсталиран Kubelet, който се грижи за стартирането, спирането и поддържането
                на контейнерите в Пода съгласно инструкциите от API Server.

                Kube-Proxy:
                Kube-Proxy управлява мрежовото комуникиране вътре в клъстъра или извън него, като осигурява препращане
                на мрежов трафик и балансиране на натоварването.

                PersistentVolumeClaim (PVC):
                PVC е заявка за съхранение от определен тип и конфигурация, която Kubernetes обработва и удовлетворява с
                ресурси от наличните PersistentVolumes.

                PersistentVolume (PV):
                PV е блок за съхранение на данни, предвиден в Клъстера, който може да бъде заявен от подовете чрез PVC.

                Ingress:
                Ingress управлява външен достъп до услугите в клъстъра, като предоставя правила за маршрутизация на
                входящия трафик към услугите.

                Helm:
                Helm е мениджър на пакети за Kubernetes, който позволява на разработчиците да пакетират, конфигурират и
                разполагат приложения и услуги в Kubernetes по по-организиран начин.
                .</p>
            <h2>Изграждане на LAMP приложение</h2>
            <p>След като се запознахме с основните компоненти на Kubernetes можем да започнем изграждането на нашето
                LAMP приложение.
                В този контекст, компонентите Deployment, Service, PersistentVolumeClaim, PersistentVolume, Ingress и
                Secrets са основни и работят заедно за осигуряване на стабилност, сигурност и скалируемост на
                приложението. Ето как те могат да взаимодействат в рамките на Kubernetes:
                1. Deployment
                Deployment е ключов компонент в Kubernetes, който осигурява деплойване и актуализация на приложения. В
                контекста на LAMP:
                Deployment ще управлява подове, които съдържат контейнери с Apache, MySQL и PHP. Тези подове се
                конфигурират да стартират със специфична версия на Docker снимка, която съдържа нужните за приложението
                конфигурации и зависимости.

                2. Service
                Service в Kubernetes дефинира логически набор от подове и начин на достъп до тях:
                Apache Service: Може да осигурява постоянен IP адрес, което позволява на клиентите да достигат до Apache
                сървъра без да се налага да знаят спецификите на подовете, в които се изпълнява.
                MySQL Service: Изолира базата данни и осигурява постоянен начин за достъп до нея от Apache подовете,
                които изпълняват PHP приложението.

                3. PersistentVolume (PV) и PersistentVolumeClaim (PVC)
                PV и PVC са от съществено значение за управление на дълготрайните данни в Kubernetes:
                MySQL PV: Настройка на PersistentVolume, която да съхранява базата данни на MySQL, осигурявайки, че
                данните остават запазени дори след рестартиране или премахване на подове.
                MySQL PVC: PersistentVolumeClaim, който заявява необходимото хранилище от PV, което се използва от MySQL
                Deployment. Това гарантира, че Deployment може да достъпи същото хранилище всеки път, независимо от
                физическия възел, на който подът е стартиран.

                4. Ingress
                Ingress контролира входящия трафик към приложението и улеснява достъпа до него през интернет:
                Ingress правила: Конфигурират се правила, които да насочват трафика към Apache Service за обработка на
                уеб заявки. Това позволява външните потребители безопасно и ефективно да достигат до уеб приложението,
                хоствано в Kubernetes.

                5. Secrets
                Secrets предоставят сигурен начин за съхранение и управление на чувствителна информация:
                MySQL Secrets: Паролите и потребителските имена за достъп до MySQL се съхраняват като Secrets, които се
                вкарват в MySQL Deployment. Това осигурява, че чувствителна информация не се разкрива в конфигурациите и
                се предава безопасно до Подовете.

                Интеграция на компонентите
                Deployment гарантира, че правилните версии на Apache, PHP и MySQL са деплойнати и работят. Service
                осигурява непрекъснат достъп до тези компоненти. PV и PVC управляват съхранението на информацията в
                стейтлес среда. Ingress улеснява достъпа до приложението от външния свят. Secrets защитават
                чувствителната информация.
            </p>
        </section> -->
    </main>
</body>

</html>